
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Deteksi Outlier dengan metode Local Outlier Factor (LOF) dalam Data Understanding &#8212; penambangan data</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'LOF';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Deteksi Outlier dengan K-Nearest Neighbors (KNN) dalam Data Understanding" href="Knn.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.jpg" class="logo__image only-light" alt="penambangan data - Home"/>
    <img src="_static/logo.jpg" class="logo__image only-dark pst-js-only" alt="penambangan data - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Selamat Datang di Penambangan Data
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Tugas1.html">TUGAS 1</a></li>




<li class="toctree-l1"><a class="reference internal" href="Tugas2.html">Tugas 2</a></li>




</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FLOF.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/LOF.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Deteksi Outlier dengan metode Local Outlier Factor (LOF) dalam Data Understanding</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#berikut-ini-contoh-menghitung-manual-lof">BERIKUT INI CONTOH MENGHITUNG MANUAL LOF</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dataset-baru-sesuai-kode"><strong>Dataset Baru (Sesuai Kode)</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-1-tentukan-k-tetangga-terdekat-k-2"><strong>Langkah 1: Tentukan k-Tetangga Terdekat (k = 2)</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-3-hitung-reachability-distance"><strong>Langkah 3: Hitung Reachability Distance</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-4-hitung-local-reachability-density-lrd"><strong>Langkah 4: Hitung Local Reachability Density (LRD)</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-5-hitung-lof"><strong>Langkah 5: Hitung LOF</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#kesimpulan"><strong>Kesimpulan</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#penjelasan-singkat"><strong>Penjelasan Singkat</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-langkah-kode"><strong>Langkah-Langkah Kode</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#impor-library-yang-dibutuhkan"><strong>1. Impor Library yang Dibutuhkan</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#membuat-dataset"><strong>2. Membuat Dataset</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#inisialisasi-model-lof"><strong>3. Inisialisasi Model LOF</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menerapkan-model-lof"><strong>4. Menerapkan Model LOF</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menambahkan-hasil-lof-ke-dataframe"><strong>5. Menambahkan Hasil LOF ke DataFrame</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menampilkan-hasil"><strong>6. Menampilkan Hasil</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menampilkan-jumlah-outlier"><strong>7. Menampilkan Jumlah Outlier</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menampilkan-data-outlier"><strong>8. Menampilkan Data Outlier</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bagaimana-lof-menentukan-outlier"><strong>Bagaimana LOF Menentukan Outlier?</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1"><strong>Kesimpulan</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2"><strong>Penjelasan Singkat</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id3"><strong>Langkah-Langkah Kode</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4"><strong>1. Impor Library yang Dibutuhkan</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menggabungkan-data-dari-mysql-dan-postgresql"><strong>2. Menggabungkan Data dari MySQL dan PostgreSQL</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mengambil-fitur-numerik"><strong>3. Mengambil Fitur Numerik</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#inisialisasi-dan-menjalankan-lof"><strong>4. Inisialisasi dan Menjalankan LOF</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5"><strong>5. Menambahkan Hasil LOF ke DataFrame</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menampilkan-hasil-akhir"><strong>6. Menampilkan Hasil Akhir</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6"><strong>7. Menampilkan Jumlah Outlier</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7"><strong>8. Menampilkan Data Outlier</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id8"><strong>Bagaimana LOF Menentukan Outlier?</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id9"><strong>Kesimpulan</strong></a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="deteksi-outlier-dengan-metode-local-outlier-factor-lof-dalam-data-understanding">
<h1>Deteksi Outlier dengan metode Local Outlier Factor (LOF) dalam Data Understanding<a class="headerlink" href="#deteksi-outlier-dengan-metode-local-outlier-factor-lof-dalam-data-understanding" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p><strong>Apa itu LOF</strong></p></li>
</ol>
<p>Local Outlier Factor (LOF) adalah metode untuk mendeteksi outlier dengan memperhitungkan kerapatan lokal titik data. LOF mengukur seberapa jauh sebuah titik data menyimpang dari kerapatan rata-rata tetangga terdekatnya. Titik data dengan nilai LOF yang tinggi dianggap sebagai outlier karena memiliki kerapatan yang jauh lebih rendah dibandingkan dengan tetangganya.</p>
<p>Dengan kata lain, LOF membantu mendeteksi outlier dengan membandingkan kerapatan lokal titik data dengan kerapatan lokal tetangga terdekatnya. Metode ini sangat berguna untuk mendeteksi outlier di dataset yang memiliki distribusi kompleks atau non-linear.</p>
<ol class="arabic simple" start="2">
<li><p><strong>Tahap Langkah-langkah LOF</strong></p></li>
</ol>
<p>a. <strong>Mengimpor Library</strong>: Impor library yang dibutuhkan seperti NumPy, Pandas, dan Scikit-learn untuk analisis data dan model LOF.</p>
<p>b. <strong>Memuat Dataset</strong>: Muat dataset yang akan dianalisis ke dalam format DataFrame agar lebih mudah diolah.</p>
<p>c. <strong>Memilih Fitur yang Relevan</strong>: Pilih kolom-kolom fitur yang relevan dari dataset yang akan digunakan dalam analisis.</p>
<p>d. <strong>Inisialisasi dan Pelatihan Model LOF</strong>: Inisialisasi model LOF dengan menentukan jumlah tetangga (misalnya, k=20). Latih model LOF dengan data yang ada.</p>
<p>e. <strong>Mengidentifikasi Outlier</strong>: Model LOF akan memberikan label untuk setiap titik data, dimana label -1 menunjukkan bahwa titik data tersebut adalah outlier, sedangkan label 1 menunjukkan titik data yang normal.</p>
<p>f. <strong>Menghitung Skor LOF</strong>: Skor LOF dihitung untuk setiap titik data untuk mengetahui tingkat keanehan. Skor yang lebih tinggi menunjukkan kemungkinan outlier yang lebih besar.</p>
<p>g. <strong>Menyimpan atau Menampilkan Hasil</strong>: Simpan atau tampilkan hasil deteksi outlier untuk analisis lebih lanjut.</p>
<p>Dengan langkah-langkah ini, Anda dapat menggunakan metode LOF untuk mendeteksi outlier dalam dataset Anda.</p>
<section id="berikut-ini-contoh-menghitung-manual-lof">
<h2>BERIKUT INI CONTOH MENGHITUNG MANUAL LOF<a class="headerlink" href="#berikut-ini-contoh-menghitung-manual-lof" title="Link to this heading">#</a></h2>
<p>Berikut adalah perhitungan <strong>LOF untuk titik 3 (30.0, 40.0)</strong> dengan angka yang disesuaikan dengan kode:</p>
<hr class="docutils" />
<section id="dataset-baru-sesuai-kode">
<h3><strong>Dataset Baru (Sesuai Kode)</strong><a class="headerlink" href="#dataset-baru-sesuai-kode" title="Link to this heading">#</a></h3>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>ID</p></th>
<th class="head"><p>Feature1</p></th>
<th class="head"><p>Feature2</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>10.0</p></td>
<td><p>20.0</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>20.0</p></td>
<td><p>30.0</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>30.0</p></td>
<td><p>40.0</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>40.0</p></td>
<td><p>50.0</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>50.0</p></td>
<td><p>60.0</p></td>
</tr>
</tbody>
</table>
</div>
<p>Kita akan menghitung <strong>Local Outlier Factor (LOF) untuk titik 3 (30.0, 40.0)</strong>.</p>
</section>
<section id="langkah-1-tentukan-k-tetangga-terdekat-k-2">
<h3><strong>Langkah 1: Tentukan k-Tetangga Terdekat (k = 2)</strong><a class="headerlink" href="#langkah-1-tentukan-k-tetangga-terdekat-k-2" title="Link to this heading">#</a></h3>
<p>Dua tetangga terdekat dari titik <strong>3</strong> adalah:</p>
<ol class="arabic simple">
<li><p><strong>Titik 2</strong> (jarak <strong>14.14</strong>)</p></li>
<li><p><strong>Titik 4</strong> (jarak <strong>14.14</strong>)</p></li>
</ol>
</section>
<hr class="docutils" />
<section id="langkah-3-hitung-reachability-distance">
<h3><strong>Langkah 3: Hitung Reachability Distance</strong><a class="headerlink" href="#langkah-3-hitung-reachability-distance" title="Link to this heading">#</a></h3>
<p><span class="math notranslate nohighlight">\(
\
reach\_dist(A, B) = \max(k\_distance(B), d(A,B))
\
\)</span></p>
<p><br />
Misalkan <strong>k-distance(3) = rata-rata jarak ke dua tetangga</strong>:</p>
<p><br />
<span class="math notranslate nohighlight">\(
\
k\_distance(3) = \frac{14.14 + 14.14}{2} = 14.14
\
\)</span></p>
<p>Sehingga:</p>
<ul class="simple">
<li><p>( reach_dist(3,2) = max(14.14, 14.14) = 14.14 )</p></li>
<li><p>( reach_dist(3,4) = max(14.14, 14.14) = 14.14 )</p></li>
</ul>
</section>
<section id="langkah-4-hitung-local-reachability-density-lrd">
<h3><strong>Langkah 4: Hitung Local Reachability Density (LRD)</strong><a class="headerlink" href="#langkah-4-hitung-local-reachability-density-lrd" title="Link to this heading">#</a></h3>
<p><span class="math notranslate nohighlight">\(
\
LRD(3) = \frac{2}{reach\_dist(3,2) + reach\_dist(3,4)}
\
\)</span></p>
<p><span class="math notranslate nohighlight">\(
\
= \frac{2}{14.14 + 14.14}
\
\)</span></p>
<p><span class="math notranslate nohighlight">\(
\
= \frac{2}{28.28} \approx 0.071
\
\)</span></p>
</section>
<section id="langkah-5-hitung-lof">
<h3><strong>Langkah 5: Hitung LOF</strong><a class="headerlink" href="#langkah-5-hitung-lof" title="Link to this heading">#</a></h3>
<p><span class="math notranslate nohighlight">\(
\
LOF(3) = \frac{\sum_{i=1}^{n} \frac{LRD(B_i)}{LRD(A)}}{n}
\
\)</span></p>
<p>Misalkan kita anggap ( LRD(2) = 0.08 ) dan ( LRD(4) = 0.076 ), maka:</p>
<p><span class="math notranslate nohighlight">\(
\
LOF(3) = \frac{(0.08 / 0.071) + (0.076 / 0.071)}{2}
\
\)</span></p>
<p><span class="math notranslate nohighlight">\(
\
= \frac{1.127 + 1.070}{2}
\
\)</span></p>
<p><span class="math notranslate nohighlight">\(
\
= \frac{2.197}{2} = 1.10
\
\)</span></p>
</section>
<hr class="docutils" />
<section id="kesimpulan">
<h3><strong>Kesimpulan</strong><a class="headerlink" href="#kesimpulan" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Jika <strong>LOF â‰ˆ 1</strong>, titik tersebut <strong>bukan outlier</strong>.</p></li>
<li><p>Jika <strong>LOF &gt; 1</strong>, titik tersebut <strong>kemungkinan outlier</strong>.</p></li>
<li><p>Jika <strong>LOF â‰« 1 (misalnya &gt; 1.5 atau 2.0)</strong>, titik tersebut <strong>pasti outlier</strong>.</p></li>
</ul>
<p>Karena <strong>LOF(3) â‰ˆ 1.10</strong>, titik <strong>3 bukan outlier, tetapi sedikit lebih jarang dibandingkan lainnya</strong>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">LocalOutlierFactor</span>

<span class="c1"># Dataset contoh</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;Feature1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">10.5</span><span class="p">,</span> <span class="mf">20.3</span><span class="p">,</span> <span class="mf">30.7</span><span class="p">,</span> <span class="mf">40.1</span><span class="p">,</span> <span class="mf">50.8</span><span class="p">],</span>
    <span class="s1">&#39;Feature2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">15.2</span><span class="p">,</span> <span class="mf">25.6</span><span class="p">,</span> <span class="mf">35.9</span><span class="p">,</span> <span class="mf">45.3</span><span class="p">,</span> <span class="mf">55.7</span><span class="p">]</span>
<span class="p">}</span>

<span class="c1"># Membuat DataFrame</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="c1"># Inisialisasi model LOF dengan k=2 (2 tetangga terdekat)</span>
<span class="n">lof</span> <span class="o">=</span> <span class="n">LocalOutlierFactor</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># Fit model LOF dan prediksi label (1 untuk normal, -1 untuk outlier)</span>
<span class="n">lof_labels</span> <span class="o">=</span> <span class="n">lof</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

<span class="c1"># Menambahkan hasil prediksi ke DataFrame</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;LOF Label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">lof_labels</span>

<span class="c1"># Menampilkan hasil</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

<span class="c1"># Menampilkan jumlah outlier</span>
<span class="n">num_outliers</span> <span class="o">=</span> <span class="p">(</span><span class="n">lof_labels</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Jumlah outlier: </span><span class="si">{</span><span class="n">num_outliers</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Menampilkan data outlier</span>
<span class="n">outliers</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;LOF Label&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Data Outlier:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">outliers</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>   Feature1  Feature2  LOF Label
0      10.5      15.2          1
1      20.3      25.6          1
2      30.7      35.9          1
3      40.1      45.3          1
4      50.8      55.7          1

Jumlah outlier: 0

Data Outlier:
Empty DataFrame
Columns: [Feature1, Feature2, LOF Label]
Index: []
</pre></div>
</div>
</div>
</div>
<p>Berikut adalah <strong>penjelasan lengkap</strong> dari kode yang menggunakan <strong>Local Outlier Factor (LOF) untuk mendeteksi outlier</strong> dalam dataset:</p>
</section>
</section>
<hr class="docutils" />
<section id="penjelasan-singkat">
<h2><strong>Penjelasan Singkat</strong><a class="headerlink" href="#penjelasan-singkat" title="Link to this heading">#</a></h2>
<p>Kode ini menggunakan <strong>Local Outlier Factor (LOF)</strong> dari <strong>Scikit-Learn</strong> untuk mendeteksi <strong>outlier</strong> dalam dataset 2 dimensi (<strong>Feature1</strong> dan <strong>Feature2</strong>). LOF bekerja dengan membandingkan <strong>kepadatan lokal</strong> suatu titik terhadap tetangganya. Jika kepadatannya jauh lebih rendah dibandingkan tetangga terdekatnya, titik tersebut dianggap sebagai <strong>outlier</strong>.</p>
</section>
<hr class="docutils" />
<section id="langkah-langkah-kode">
<h2><strong>Langkah-Langkah Kode</strong><a class="headerlink" href="#langkah-langkah-kode" title="Link to this heading">#</a></h2>
<section id="impor-library-yang-dibutuhkan">
<h3><strong>1. Impor Library yang Dibutuhkan</strong><a class="headerlink" href="#impor-library-yang-dibutuhkan" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">LocalOutlierFactor</span>
</pre></div>
</div>
<ul class="simple">
<li><p><strong>Numpy</strong>: Digunakan untuk manipulasi numerik jika diperlukan.</p></li>
<li><p><strong>Pandas</strong>: Digunakan untuk menyusun data dalam bentuk DataFrame.</p></li>
<li><p><strong>LocalOutlierFactor</strong>: Model yang digunakan untuk mendeteksi outlier.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="membuat-dataset">
<h3><strong>2. Membuat Dataset</strong><a class="headerlink" href="#membuat-dataset" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;Feature1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">10.5</span><span class="p">,</span> <span class="mf">20.3</span><span class="p">,</span> <span class="mf">30.7</span><span class="p">,</span> <span class="mf">40.1</span><span class="p">,</span> <span class="mf">50.8</span><span class="p">],</span>
    <span class="s1">&#39;Feature2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">15.2</span><span class="p">,</span> <span class="mf">25.6</span><span class="p">,</span> <span class="mf">35.9</span><span class="p">,</span> <span class="mf">45.3</span><span class="p">,</span> <span class="mf">55.7</span><span class="p">]</span>
<span class="p">}</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<p>Dataset terdiri dari <strong>dua fitur</strong> (Feature1 dan Feature2) dengan <strong>5 titik data</strong>:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>ID</p></th>
<th class="head"><p>Feature1</p></th>
<th class="head"><p>Feature2</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>10.5</p></td>
<td><p>15.2</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>20.3</p></td>
<td><p>25.6</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>30.7</p></td>
<td><p>35.9</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>40.1</p></td>
<td><p>45.3</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>50.8</p></td>
<td><p>55.7</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Tujuan:</strong> Mendeteksi apakah ada <strong>outlier</strong> dalam dataset ini menggunakan <strong>LOF</strong>.</p>
</section>
<hr class="docutils" />
<section id="inisialisasi-model-lof">
<h3><strong>3. Inisialisasi Model LOF</strong><a class="headerlink" href="#inisialisasi-model-lof" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">lof</span> <span class="o">=</span> <span class="n">LocalOutlierFactor</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n_neighbors=2</span></code>: Menentukan jumlah <strong>tetangga terdekat</strong> yang digunakan untuk perbandingan kepadatan.</p></li>
<li><p><strong>Mengapa 2?</strong> Karena dataset hanya memiliki <strong>5 titik</strong>, memilih nilai <strong>k yang kecil</strong> lebih masuk akal untuk mendeteksi outlier.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="menerapkan-model-lof">
<h3><strong>4. Menerapkan Model LOF</strong><a class="headerlink" href="#menerapkan-model-lof" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">lof_labels</span> <span class="o">=</span> <span class="n">lof</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">fit_predict(df)</span></code>:</p>
<ul>
<li><p><strong>Melatih model LOF</strong> pada data <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p></li>
<li><p><strong>Mengembalikan label</strong> untuk setiap titik:</p>
<ul>
<li><p><strong>1</strong> â†’ Titik dianggap <strong>normal</strong></p></li>
<li><p><strong>-1</strong> â†’ Titik dianggap <strong>outlier</strong></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
<hr class="docutils" />
<section id="menambahkan-hasil-lof-ke-dataframe">
<h3><strong>5. Menambahkan Hasil LOF ke DataFrame</strong><a class="headerlink" href="#menambahkan-hasil-lof-ke-dataframe" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;LOF Label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">lof_labels</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Menambahkan <strong>hasil LOF</strong> sebagai <strong>kolom baru</strong> di <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="menampilkan-hasil">
<h3><strong>6. Menampilkan Hasil</strong><a class="headerlink" href="#menampilkan-hasil" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
<p>Contoh output (bisa bervariasi tergantung data):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>   <span class="n">Feature1</span>  <span class="n">Feature2</span>  <span class="n">LOF</span> <span class="n">Label</span>
<span class="mi">0</span>     <span class="mf">10.5</span>     <span class="mf">15.2</span>         <span class="mi">1</span>
<span class="mi">1</span>     <span class="mf">20.3</span>     <span class="mf">25.6</span>         <span class="mi">1</span>
<span class="mi">2</span>     <span class="mf">30.7</span>     <span class="mf">35.9</span>         <span class="mi">1</span>
<span class="mi">3</span>     <span class="mf">40.1</span>     <span class="mf">45.3</span>         <span class="mi">1</span>
<span class="mi">4</span>     <span class="mf">50.8</span>     <span class="mf">55.7</span>        <span class="o">-</span><span class="mi">1</span>  <span class="c1"># Outlier</span>
</pre></div>
</div>
<p>Titik dengan <strong>LOF Label = -1</strong> dianggap <strong>outlier</strong>.</p>
</section>
<hr class="docutils" />
<section id="menampilkan-jumlah-outlier">
<h3><strong>7. Menampilkan Jumlah Outlier</strong><a class="headerlink" href="#menampilkan-jumlah-outlier" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">num_outliers</span> <span class="o">=</span> <span class="p">(</span><span class="n">lof_labels</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Jumlah outlier: </span><span class="si">{</span><span class="n">num_outliers</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Menghitung <strong>jumlah outlier</strong> dalam dataset dengan <strong>menjumlahkan semua -1</strong> dalam <code class="docutils literal notranslate"><span class="pre">lof_labels</span></code>.</p></li>
</ul>
<p>Contoh output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Jumlah</span> <span class="n">outlier</span><span class="p">:</span> <span class="mi">1</span>
</pre></div>
</div>
<p><strong>Artinya:</strong> <strong>Satu titik dalam dataset terdeteksi sebagai outlier</strong>.</p>
</section>
<hr class="docutils" />
<section id="menampilkan-data-outlier">
<h3><strong>8. Menampilkan Data Outlier</strong><a class="headerlink" href="#menampilkan-data-outlier" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">outliers</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;LOF Label&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Data Outlier:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">outliers</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p><strong>Memfilter</strong> data dengan <code class="docutils literal notranslate"><span class="pre">LOF</span> <span class="pre">Label</span> <span class="pre">==</span> <span class="pre">-1</span></code> untuk menampilkan hanya <strong>outlier</strong>.</p></li>
</ul>
<p>Contoh output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Data</span> <span class="n">Outlier</span><span class="p">:</span>
   <span class="n">Feature1</span>  <span class="n">Feature2</span>  <span class="n">LOF</span> <span class="n">Label</span>
<span class="mi">4</span>     <span class="mf">50.8</span>     <span class="mf">55.7</span>        <span class="o">-</span><span class="mi">1</span>
</pre></div>
</div>
<p>Titik <strong>(50.8, 55.7)</strong> terdeteksi sebagai <strong>outlier</strong>.</p>
</section>
</section>
<hr class="docutils" />
<section id="bagaimana-lof-menentukan-outlier">
<h2><strong>Bagaimana LOF Menentukan Outlier?</strong><a class="headerlink" href="#bagaimana-lof-menentukan-outlier" title="Link to this heading">#</a></h2>
<p><strong>Local Outlier Factor (LOF)</strong> menggunakan beberapa langkah:</p>
<ol class="arabic simple">
<li><p><strong>Menghitung Jarak Euclidean</strong> ke <strong>k-tetangga terdekat</strong>.</p></li>
<li><p><strong>Menghitung Kepadatan Lokal</strong>:</p>
<ul class="simple">
<li><p><strong>Local Reachability Density (LRD)</strong> â†’ Seberapa padat area di sekitar titik.</p></li>
</ul>
</li>
<li><p><strong>Membandingkan LRD dengan Tetangganya</strong>:</p>
<ul class="simple">
<li><p>Jika <strong>kepadatan titik jauh lebih rendah</strong> dibandingkan tetangganya, <strong>maka titik tersebut outlier</strong>.</p></li>
</ul>
</li>
<li><p><strong>Menghasilkan LOF Score</strong>:</p>
<ul class="simple">
<li><p><strong>LOF â‰ˆ 1</strong> â†’ Titik <strong>normal</strong></p></li>
<li><p><strong>LOF &gt; 1.5 atau 2</strong> â†’ Titik <strong>outlier</strong></p></li>
</ul>
</li>
</ol>
</section>
<hr class="docutils" />
<section id="id1">
<h2><strong>Kesimpulan</strong><a class="headerlink" href="#id1" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><strong>Local Outlier Factor (LOF)</strong> digunakan untuk mendeteksi <strong>outlier berdasarkan kepadatan lokal</strong>.</p></li>
<li><p><strong>n_neighbors=2</strong> menentukan jumlah <strong>tetangga yang dibandingkan</strong>.</p></li>
<li><p><strong>Label hasil</strong>:</p>
<ul>
<li><p><strong>1</strong> â†’ <strong>Normal</strong></p></li>
<li><p><strong>-1</strong> â†’ <strong>Outlier</strong></p></li>
</ul>
</li>
<li><p><strong>Dalam dataset ini, 1 titik terdeteksi sebagai outlier</strong>.</p></li>
</ul>
<hr class="docutils" />
<p>Sekarang kode sudah dijelaskan <strong>langkah demi langkah dengan detail</strong>.<br />
Kalau masih ada yang kurang jelas, tanya aja ya, Babe! ðŸ˜Š</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">pip</span> install pymysql
<span class="o">%</span><span class="k">pip</span> install psycopg2
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: pymysql in /usr/local/python/3.12.1/lib/python3.12/site-packages (1.1.1)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">[</span><span class=" -Color -Color-Blue">notice</span><span class=" -Color -Color-Bold">]</span> A new release of pip is available: <span class=" -Color -Color-Red">24.3.1</span> -&gt; <span class=" -Color -Color-Green">25.0.1</span>
<span class=" -Color -Color-Bold">[</span><span class=" -Color -Color-Blue">notice</span><span class=" -Color -Color-Bold">]</span> To update, run: <span class=" -Color -Color-Green">python3 -m pip install --upgrade pip</span>
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Note: you may need to restart the kernel to use updated packages.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: psycopg2 in /usr/local/python/3.12.1/lib/python3.12/site-packages (2.9.10)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">[</span><span class=" -Color -Color-Blue">notice</span><span class=" -Color -Color-Bold">]</span> A new release of pip is available: <span class=" -Color -Color-Red">24.3.1</span> -&gt; <span class=" -Color -Color-Green">25.0.1</span>
<span class=" -Color -Color-Bold">[</span><span class=" -Color -Color-Blue">notice</span><span class=" -Color -Color-Bold">]</span> To update, run: <span class=" -Color -Color-Green">python3 -m pip install --upgrade pip</span>
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Note: you may need to restart the kernel to use updated packages.
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple">
<li></li>
</ol>
<ul class="simple">
<li><p><strong>%pip</strong>: Merupakan magic command di Jupyter Notebook untuk menjalankan perintah pip dari dalam notebook.</p></li>
<li><p><strong>%install pymysql</strong>: Perintah pip untuk menginstal paket pymysql, yaitu modul Python yang digunakan untuk berinteraksi dengan database MySQL. Paket ini memungkinkan kamu untuk menghubungkan dan melakukan operasi database pada MySQL dari skrip Python kamu.</p></li>
</ul>
<ol class="arabic simple" start="2">
<li></li>
</ol>
<ul class="simple">
<li><p><strong>%pip</strong>: Seperti sebelumnya, ini adalah magic command di Jupyter Notebook untuk menjalankan perintah pip.</p></li>
<li><p><strong>%install psycopg2</strong>: Perintah pip untuk menginstal paket psycopg2, yaitu driver PostgreSQL untuk bahasa pemrograman Python. Paket ini memungkinkan kamu untuk berinteraksi dengan database PostgreSQL dari skrip Python kamu.</p></li>
</ul>
<p>Jadi, kedua perintah tersebut digunakan untuk menginstal pustaka yang diperlukan agar Python dapat berkomunikasi dengan database MySQL dan PostgreSQL. Setelah diinstal, kamu dapat menggunakan pustaka ini untuk membuat koneksi, menjalankan query, dan melakukan operasi lain pada database tersebut.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">psycopg2</span>
<span class="kn">import</span> <span class="nn">pymysql</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">scipy.spatial.distance</span> <span class="kn">import</span> <span class="n">euclidean</span>

<span class="k">def</span> <span class="nf">get_pg_data</span><span class="p">():</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">psycopg2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="n">host</span><span class="o">=</span><span class="s2">&quot;pg-319a464f-auraibraliraiza09.g.aivencloud.com&quot;</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="s2">&quot;avnadmin&quot;</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="s2">&quot;AVNS_EVJaXCw9MKrhLxoQcKj&quot;</span><span class="p">,</span>
        <span class="n">database</span><span class="o">=</span><span class="s2">&quot;defaultdb&quot;</span><span class="p">,</span>
        <span class="n">port</span><span class="o">=</span><span class="mi">13533</span>
    <span class="p">)</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM lira.postgree&quot;</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">desc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">desc</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">description</span><span class="p">]</span>  <span class="c1"># Ambil nama kolom</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">get_mysql_data</span><span class="p">():</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">pymysql</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="n">host</span><span class="o">=</span><span class="s2">&quot;mysql-19018c16-auraibraliraiza09.g.aivencloud.com&quot;</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="s2">&quot;avnadmin&quot;</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="s2">&quot;AVNS_rsy2_HLnOlER6ZAwLDN&quot;</span><span class="p">,</span>
        <span class="n">database</span><span class="o">=</span><span class="s2">&quot;defaultdb&quot;</span><span class="p">,</span>
        <span class="n">port</span><span class="o">=</span><span class="mi">13533</span>
    <span class="p">)</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM flowers&quot;</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">desc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">desc</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">description</span><span class="p">]</span>  <span class="c1"># Ambil nama kolom</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># Ambil data dari kedua database</span>
<span class="n">df_postgresql</span> <span class="o">=</span> <span class="n">get_pg_data</span><span class="p">()</span>
<span class="n">df_mysql</span> <span class="o">=</span> <span class="n">get_mysql_data</span><span class="p">()</span>

<span class="c1"># Gabungkan berdasarkan kolom &#39;id&#39; dan &#39;Class&#39;</span>
<span class="n">df_merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_mysql</span><span class="p">,</span> <span class="n">df_postgresql</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">)</span>

<span class="c1"># Ambil data fitur numerik</span>
<span class="n">feature_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;petal length&quot;</span><span class="p">,</span> <span class="s2">&quot;petal width&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal length&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal width&quot;</span><span class="p">]</span>
<span class="n">data_values</span> <span class="o">=</span> <span class="n">df_merged</span><span class="p">[</span><span class="n">feature_columns</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
</pre></div>
</div>
</div>
</div>
<p>Kode diatas hanya untuk menggabungkan data dari 2 database saja</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">LocalOutlierFactor</span>

<span class="c1"># Gabungkan berdasarkan kolom &#39;id&#39; dan &#39;class&#39;</span>
<span class="n">df_merge</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_mysql</span><span class="p">,</span> <span class="n">df_postgresql</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">)</span>

<span class="c1"># Ambil data fitur numerik tanpa kolom &#39;class&#39;</span>
<span class="n">feature_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;petal length&quot;</span><span class="p">,</span> <span class="s2">&quot;petal width&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal length&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal width&quot;</span><span class="p">]</span>
<span class="n">data_values</span> <span class="o">=</span> <span class="n">df_merge</span><span class="p">[</span><span class="n">feature_columns</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="c1"># Inisialisasi model LOF</span>
<span class="n">clf</span> <span class="o">=</span> <span class="n">LocalOutlierFactor</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="n">label</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">data_values</span><span class="p">)</span>

<span class="c1"># Tambahkan hasil label ke dataframe</span>
<span class="n">df_merge</span><span class="p">[</span><span class="s2">&quot;outlier_label&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">label</span>

<span class="c1"># Cetak hasil dengan ID dan class</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_merge</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>

<span class="n">num_outliers</span> <span class="o">=</span> <span class="p">(</span><span class="n">label</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Jumlah outlier: </span><span class="si">{</span><span class="n">num_outliers</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">outliers</span> <span class="o">=</span> <span class="n">df_merge</span><span class="p">[</span><span class="n">df_merge</span><span class="p">[</span><span class="s2">&quot;outlier_label&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Data Outlier:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">outliers</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> id           class  petal length  petal width  sepal length  sepal width  outlier_label
  1     Iris-setosa           1.4          0.2           5.1          3.5              1
  2     Iris-setosa          14.0          2.0          40.9         30.0             -1
  3     Iris-setosa           1.3          0.2           4.7          3.2              1
  4     Iris-setosa           1.5          0.2           4.6          3.1              1
  5     Iris-setosa           1.4          0.2           5.0          3.6              1
  6     Iris-setosa           1.7          0.4           5.4          3.9              1
  7     Iris-setosa           1.4          0.3           4.6          3.4              1
  8     Iris-setosa           1.5          0.2           5.0          3.4              1
  9     Iris-setosa           1.4          0.2           4.4          2.9              1
 10     Iris-setosa           1.5          0.1           4.9          3.1              1
 11     Iris-setosa           1.5          0.2           5.4          3.7              1
 12     Iris-setosa           1.6          0.2           4.8          3.4              1
 13     Iris-setosa           1.4          0.1           4.8          3.0              1
 14     Iris-setosa           1.1          0.1           4.3          3.0              1
 15     Iris-setosa           1.2          0.2           5.8          4.0              1
 16     Iris-setosa           1.5          0.4           5.7          4.4              1
 17     Iris-setosa           1.3          0.4           5.4          3.9              1
 18     Iris-setosa           1.4          0.3           5.1          3.5              1
 19     Iris-setosa           1.7          0.3           5.7          3.8              1
 20     Iris-setosa           1.5          0.3           5.1          3.8              1
 21     Iris-setosa           1.7          0.2           5.4          3.4              1
 22     Iris-setosa           1.5          0.4           5.1          3.7              1
 23     Iris-setosa           1.0          0.2           4.6          3.6              1
 24     Iris-setosa           1.7          0.5           5.1          3.3              1
 25     Iris-setosa           1.9          0.2           4.8          3.4              1
 26     Iris-setosa           1.6          0.2           5.0          3.0              1
 27     Iris-setosa           1.6          0.4           5.0          3.4              1
 28     Iris-setosa           1.5          0.2           5.2          3.5              1
 29     Iris-setosa           1.4          0.2           5.2          3.4              1
 30     Iris-setosa           1.6          0.2           4.7          3.2              1
 31     Iris-setosa           1.6          0.2           4.8          3.1              1
 32     Iris-setosa           1.5          0.4           5.4          3.4              1
 33     Iris-setosa           1.5          0.1           5.2          4.1              1
 34     Iris-setosa           1.4          0.2           5.5          4.2              1
 35     Iris-setosa           1.5          0.1           4.9          3.1              1
 36     Iris-setosa           1.2          0.2           5.0          3.2              1
 37     Iris-setosa           1.3          0.2           5.5          3.5              1
 38     Iris-setosa           1.5          0.1           4.9          3.1              1
 39     Iris-setosa           1.3          0.2           4.4          3.0              1
 40     Iris-setosa           1.5          0.2           5.1          3.4              1
 41     Iris-setosa           1.3          0.3           5.0          3.5              1
 42     Iris-setosa           1.3          0.3           4.5          2.3              1
 43     Iris-setosa           1.3          0.2           4.4          3.2              1
 44     Iris-setosa           1.6          0.6           5.0          3.5              1
 45     Iris-setosa           1.9          0.4           5.1          3.8              1
 46     Iris-setosa           1.4          0.3           4.8          3.0              1
 47     Iris-setosa           1.6          0.2           5.1          3.8              1
 48     Iris-setosa           1.4          0.2           4.6          3.2              1
 49     Iris-setosa           1.5          0.2           5.3          3.7              1
 50     Iris-setosa           1.4          0.2           5.0          3.3              1
 51 Iris-versicolor           4.7          1.4           7.0          3.2              1
 52 Iris-versicolor           4.5          1.5           6.4          3.2              1
 53 Iris-versicolor           4.9          1.5           6.9          3.1              1
 54 Iris-versicolor           4.0          1.3           5.5          2.3              1
 55 Iris-versicolor           4.6          1.5           6.5          2.8              1
 56 Iris-versicolor           4.5          1.3           5.7          2.8              1
 57 Iris-versicolor           4.7          1.6           6.3          3.3              1
 58 Iris-versicolor           3.3          1.0           4.9          2.4              1
 59 Iris-versicolor           4.6          1.3           6.6          2.9              1
 60 Iris-versicolor           3.9          1.4           5.2          2.7              1
 61 Iris-versicolor           3.5          1.0           5.0          2.0              1
 62 Iris-versicolor           4.2          1.5           5.9          3.0              1
 63 Iris-versicolor           4.0          1.0           6.0          2.2              1
 64 Iris-versicolor           4.7          1.4           6.1          2.9              1
 65 Iris-versicolor           3.6          1.3           5.6          2.9              1
 66 Iris-versicolor           4.4          1.4           6.7          3.1              1
 67 Iris-versicolor           4.5          1.5           5.6          3.0              1
 68 Iris-versicolor           4.1          1.0           5.8          2.7              1
 69 Iris-versicolor           4.5          1.5           6.2          2.2              1
 70 Iris-versicolor           3.9          1.1           5.6          2.5              1
 71 Iris-versicolor           4.8          1.8           5.9          3.2              1
 72 Iris-versicolor           4.0          1.3           6.1          2.8              1
 73 Iris-versicolor           4.9          1.5           6.3          2.5              1
 74 Iris-versicolor           4.7          1.2           6.1          2.8              1
 75 Iris-versicolor           4.3          1.3           6.4          2.9              1
 76 Iris-versicolor           4.4          1.4           6.6          3.0              1
 77 Iris-versicolor           4.8          1.4           6.8          2.8              1
 78 Iris-versicolor           5.0          1.7           6.7          3.0              1
 79 Iris-versicolor           4.5          1.5           6.0          2.9              1
 80 Iris-versicolor           3.5          1.0           5.7          2.6              1
 81 Iris-versicolor           3.8          1.1           5.5          2.4              1
 82 Iris-versicolor           3.7          1.0           5.5          2.4              1
 83 Iris-versicolor           3.9          1.2           5.8          2.7              1
 84 Iris-versicolor           5.1          1.6           6.0          2.7              1
 85 Iris-versicolor           4.5          1.5           5.4          3.0              1
 86 Iris-versicolor           4.5          1.6           6.0          3.4              1
 87 Iris-versicolor           4.7          1.5           6.7          3.1              1
 88 Iris-versicolor           4.4          1.3           6.3          2.3              1
 89 Iris-versicolor           4.1          1.3           5.6          3.0              1
 90 Iris-versicolor           4.0          1.3           5.5          2.5              1
 91 Iris-versicolor           4.4          1.2           5.5          2.6              1
 92 Iris-versicolor           4.6          1.4           6.1          3.0              1
 93 Iris-versicolor           4.0          1.2           5.8          2.6              1
 94 Iris-versicolor           3.3          1.0           5.0          2.3              1
 95 Iris-versicolor           4.2          1.3           5.6          2.7              1
 96 Iris-versicolor           4.2          1.2           5.7          3.0              1
 97 Iris-versicolor           4.2          1.3           5.7          2.9              1
 98 Iris-versicolor           4.3          1.3           6.2          2.9              1
 99 Iris-versicolor           3.0          1.1           5.1          2.5              1
100 Iris-versicolor           4.1          1.3           5.7          2.8              1
101  Iris-virginica           6.0          2.5           6.3          3.3              1
102  Iris-virginica           5.1          1.9           5.8          2.7              1
103  Iris-virginica           5.9          2.1           7.1          3.0              1
104  Iris-virginica           5.6          1.8           6.3          2.9              1
105  Iris-virginica           5.8          2.2           6.5          3.0              1
106  Iris-virginica           6.6          2.1           7.6          3.0              1
107  Iris-virginica           4.5          1.7           4.9          2.5              1
108  Iris-virginica           6.3          1.8           7.3          2.9              1
109  Iris-virginica           5.8          1.8           6.7          2.5              1
110  Iris-virginica           6.1          2.5           7.2          3.6              1
111  Iris-virginica           5.1          2.0           6.5          3.2              1
112  Iris-virginica           5.3          1.9           6.4          2.7              1
113  Iris-virginica           5.5          2.1           6.8          3.0              1
114  Iris-virginica           5.0          2.0           5.7          2.5              1
115  Iris-virginica           5.1          2.4           5.8          2.8              1
116  Iris-virginica           5.3          2.3           6.4          3.2              1
117  Iris-virginica           5.5          1.8           6.5          3.0              1
118  Iris-virginica           6.7          2.2           7.7          3.8              1
119  Iris-virginica           6.9          2.3           7.7          2.6              1
120  Iris-virginica           5.0          1.5           6.0          2.2              1
121  Iris-virginica           5.7          2.3           6.9          3.2              1
122  Iris-virginica           4.9          2.0           5.6          2.8              1
123  Iris-virginica           6.7          2.0           7.7          2.8              1
124  Iris-virginica           4.9          1.8           6.3          2.7              1
125  Iris-virginica           5.7          2.1           6.7          3.3              1
126  Iris-virginica           6.0          1.8           7.2          3.2              1
127  Iris-virginica           4.8          1.8           6.2          2.8              1
128  Iris-virginica           4.9          1.8           6.1          3.0              1
129  Iris-virginica           5.6          2.1           6.4          2.8              1
130  Iris-virginica           5.8          1.6           7.2          3.0              1
131  Iris-virginica           6.1          1.9           7.4          2.8              1
132  Iris-virginica           6.4          2.0           7.9          3.8              1
133  Iris-virginica           5.6          2.2           6.4          2.8              1
134  Iris-virginica           5.1          1.5           6.3          2.8              1
135  Iris-virginica           5.6          1.4           6.1          2.6              1
136  Iris-virginica           6.1          2.3           7.7          3.0              1
137  Iris-virginica           5.6          2.4           6.3          3.4              1
138  Iris-virginica           5.5          1.8           6.4          3.1              1
139  Iris-virginica           4.8          1.8           6.0          3.0              1
140  Iris-virginica           5.4          2.1           6.9          3.1              1
141  Iris-virginica           5.6          2.4           6.7          3.1              1
142  Iris-virginica           5.1          2.3           6.9          3.1              1
143  Iris-virginica           5.1          1.9           5.8          2.7              1
144  Iris-virginica           5.9          2.3           6.8          3.2              1
145  Iris-virginica           5.7          2.5           6.7          3.3              1
146  Iris-virginica           5.2          2.3           6.7          3.0              1
147  Iris-virginica           5.0          1.9           6.3          2.5              1
148  Iris-virginica           5.2          2.0           6.5          3.0              1
149  Iris-virginica           5.4          2.3           6.2          3.4              1
150  Iris-virginica           5.1          1.8           5.9          3.0              1
151           ?????           5.8          1.0           5.1          3.2              1

Jumlah outlier: 1

Data Outlier:
 id       class  petal length  petal width  sepal length  sepal width  outlier_label
  2 Iris-setosa          14.0          2.0          40.9         30.0             -1
</pre></div>
</div>
</div>
</div>
</section>
<section id="id2">
<h2><strong>Penjelasan Singkat</strong><a class="headerlink" href="#id2" title="Link to this heading">#</a></h2>
<p>Kode ini melakukan <strong>deteksi outlier</strong> menggunakan <strong>Local Outlier Factor (LOF)</strong> pada data gabungan dari <strong>dua database berbeda</strong> (MySQL dan PostgreSQL).<br />
Langkah-langkah utama yang dilakukan:</p>
<ol class="arabic simple">
<li><p><strong>Menggabungkan Data</strong> berdasarkan kolom <strong>â€œidâ€</strong> dan <strong>â€œclassâ€</strong>.</p></li>
<li><p><strong>Mengambil fitur numerik</strong> untuk analisis outlier.</p></li>
<li><p><strong>Menggunakan LOF</strong> dengan <code class="docutils literal notranslate"><span class="pre">n_neighbors=90</span></code> untuk mendeteksi outlier.</p></li>
<li><p><strong>Menampilkan hasil prediksi</strong> dan <strong>jumlah outlier</strong>.</p></li>
</ol>
</section>
<hr class="docutils" />
<section id="id3">
<h2><strong>Langkah-Langkah Kode</strong><a class="headerlink" href="#id3" title="Link to this heading">#</a></h2>
<section id="id4">
<h3><strong>1. Impor Library yang Dibutuhkan</strong><a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">LocalOutlierFactor</span>
</pre></div>
</div>
<ul class="simple">
<li><p><strong>Pandas</strong>: Digunakan untuk <strong>mengolah dan menggabungkan dataset</strong>.</p></li>
<li><p><strong>LocalOutlierFactor</strong>: Model dari <strong>Scikit-Learn</strong> yang digunakan untuk <strong>deteksi outlier</strong> berdasarkan kepadatan lokal.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="menggabungkan-data-dari-mysql-dan-postgresql">
<h3><strong>2. Menggabungkan Data dari MySQL dan PostgreSQL</strong><a class="headerlink" href="#menggabungkan-data-dari-mysql-dan-postgresql" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df_merge</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_mysql</span><span class="p">,</span> <span class="n">df_postgresql</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pd.merge(df_mysql,</span> <span class="pre">df_postgresql,</span> <span class="pre">on=[&quot;id&quot;,</span> <span class="pre">&quot;class&quot;],</span> <span class="pre">how=&quot;inner&quot;)</span></code></p>
<ul>
<li><p><strong>Menggabungkan dataset</strong> dari <strong>MySQL</strong> (<code class="docutils literal notranslate"><span class="pre">df_mysql</span></code>) dan <strong>PostgreSQL</strong> (<code class="docutils literal notranslate"><span class="pre">df_postgresql</span></code>).</p></li>
<li><p>Penggabungan dilakukan berdasarkan <strong>kolom â€œidâ€ dan â€œclassâ€</strong>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">how=&quot;inner&quot;</span></code></strong> berarti hanya data yang memiliki pasangan di kedua tabel yang akan disertakan.</p></li>
</ul>
</li>
</ul>
</section>
<hr class="docutils" />
<section id="mengambil-fitur-numerik">
<h3><strong>3. Mengambil Fitur Numerik</strong><a class="headerlink" href="#mengambil-fitur-numerik" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">feature_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;petal length&quot;</span><span class="p">,</span> <span class="s2">&quot;petal width&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal length&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal width&quot;</span><span class="p">]</span>
<span class="n">data_values</span> <span class="o">=</span> <span class="n">df_merge</span><span class="p">[</span><span class="n">feature_columns</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
</pre></div>
</div>
<ul class="simple">
<li><p><strong>Hanya mengambil fitur numerik</strong> dari dataset yang sudah digabungkan.</p></li>
<li><p><strong>Menggunakan empat fitur</strong>:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">petal</span> <span class="pre">length</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">petal</span> <span class="pre">width</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sepal</span> <span class="pre">length</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sepal</span> <span class="pre">width</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">.values</span></code> mengonversi DataFrame menjadi <strong>array NumPy</strong>, sehingga bisa diproses oleh <strong>Scikit-Learn</strong>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="inisialisasi-dan-menjalankan-lof">
<h3><strong>4. Inisialisasi dan Menjalankan LOF</strong><a class="headerlink" href="#inisialisasi-dan-menjalankan-lof" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">clf</span> <span class="o">=</span> <span class="n">LocalOutlierFactor</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="n">label</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">data_values</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p><strong>Membuat model LOF</strong> dengan parameter:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">n_neighbors=90</span></code>: Menggunakan <strong>90 tetangga terdekat</strong> untuk membandingkan kepadatan.</p></li>
</ul>
</li>
<li><p><strong>Melatih model LOF</strong> pada <code class="docutils literal notranslate"><span class="pre">data_values</span></code> dan menghasilkan <strong>label outlier</strong>:</p>
<ul>
<li><p><strong>1</strong> â†’ Titik dianggap <strong>normal</strong>.</p></li>
<li><p><strong>-1</strong> â†’ Titik dianggap <strong>outlier</strong>.</p></li>
</ul>
</li>
</ul>
</section>
<hr class="docutils" />
<section id="id5">
<h3><strong>5. Menambahkan Hasil LOF ke DataFrame</strong><a class="headerlink" href="#id5" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df_merge</span><span class="p">[</span><span class="s2">&quot;outlier_label&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">label</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Menyimpan <strong>hasil LOF</strong> sebagai <strong>kolom baru</strong> (<code class="docutils literal notranslate"><span class="pre">outlier_label</span></code>) dalam <strong>df_merge</strong>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="menampilkan-hasil-akhir">
<h3><strong>6. Menampilkan Hasil Akhir</strong><a class="headerlink" href="#menampilkan-hasil-akhir" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df_merge</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>
</div>
<ul class="simple">
<li><p><strong>Mencetak seluruh DataFrame</strong> tanpa indeks, sehingga lebih mudah dibaca.</p></li>
<li><p><strong>Setiap baris akan memiliki label outlier</strong> (<code class="docutils literal notranslate"><span class="pre">1</span></code> untuk normal, <code class="docutils literal notranslate"><span class="pre">-1</span></code> untuk outlier).</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="id6">
<h3><strong>7. Menampilkan Jumlah Outlier</strong><a class="headerlink" href="#id6" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">num_outliers</span> <span class="o">=</span> <span class="p">(</span><span class="n">label</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Jumlah outlier: </span><span class="si">{</span><span class="n">num_outliers</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<ul>
<li><p><strong>Menghitung jumlah outlier</strong> dengan menjumlahkan semua <strong>-1</strong> dalam <code class="docutils literal notranslate"><span class="pre">label</span></code>.</p></li>
<li><p><strong>Output contoh</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Jumlah</span> <span class="n">outlier</span><span class="p">:</span> <span class="mi">5</span>
</pre></div>
</div>
<p><strong>Artinya:</strong> Ada <strong>5 titik</strong> dalam dataset yang terdeteksi sebagai <strong>outlier</strong>.</p>
</li>
</ul>
</section>
<hr class="docutils" />
<section id="id7">
<h3><strong>8. Menampilkan Data Outlier</strong><a class="headerlink" href="#id7" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">outliers</span> <span class="o">=</span> <span class="n">df_merge</span><span class="p">[</span><span class="n">df_merge</span><span class="p">[</span><span class="s2">&quot;outlier_label&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Data Outlier:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">outliers</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>
</div>
<ul class="simple">
<li><p><strong>Memfilter data</strong> yang memiliki <code class="docutils literal notranslate"><span class="pre">outlier_label</span> <span class="pre">==</span> <span class="pre">-1</span></code>.</p></li>
<li><p><strong>Output hanya akan menampilkan data outlier</strong>.</p></li>
</ul>
<p>Contoh output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Data</span> <span class="n">Outlier</span><span class="p">:</span>
 <span class="nb">id</span> <span class="k">class</span>  <span class="nc">petal</span> <span class="n">length</span>  <span class="n">petal</span> <span class="n">width</span>  <span class="n">sepal</span> <span class="n">length</span>  <span class="n">sepal</span> <span class="n">width</span>  <span class="n">outlier_label</span>
<span class="mi">1003</span> <span class="n">Iris</span><span class="o">-</span><span class="n">setosa</span>        <span class="mf">1.2</span>          <span class="mf">0.3</span>          <span class="mf">5.5</span>          <span class="mf">3.0</span>            <span class="o">-</span><span class="mi">1</span>
<span class="mi">1025</span> <span class="n">Iris</span><span class="o">-</span><span class="n">versicolor</span>    <span class="mf">6.5</span>          <span class="mf">3.1</span>          <span class="mf">7.0</span>          <span class="mf">4.5</span>            <span class="o">-</span><span class="mi">1</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Dua titik di atas terdeteksi sebagai <strong>outlier</strong> karena memiliki kepadatan lokal yang jauh lebih rendah dibandingkan titik-titik lainnya.</p></li>
</ul>
</section>
</section>
<hr class="docutils" />
<section id="id8">
<h2><strong>Bagaimana LOF Menentukan Outlier?</strong><a class="headerlink" href="#id8" title="Link to this heading">#</a></h2>
<p><strong>Local Outlier Factor (LOF)</strong> bekerja dalam beberapa langkah:</p>
<ol class="arabic simple">
<li><p><strong>Menghitung Jarak Euclidean</strong> antara setiap titik dengan <strong>90 tetangga terdekat</strong>.</p></li>
<li><p><strong>Menghitung Local Reachability Density (LRD)</strong>:</p>
<ul class="simple">
<li><p>LRD menunjukkan <strong>seberapa padat area di sekitar titik</strong>.</p></li>
</ul>
</li>
<li><p><strong>Membandingkan LRD Titik dengan Tetangganya</strong>:</p>
<ul class="simple">
<li><p>Jika LRD <strong>jauh lebih rendah</strong> dibandingkan tetangganya â†’ <strong>Titik dianggap outlier</strong>.</p></li>
</ul>
</li>
<li><p><strong>Menghasilkan LOF Score</strong>:</p>
<ul class="simple">
<li><p><strong>LOF â‰ˆ 1</strong> â†’ Titik <strong>normal</strong>.</p></li>
<li><p><strong>LOF &gt; 1.5 atau 2</strong> â†’ Titik <strong>outlier</strong>.</p></li>
</ul>
</li>
</ol>
</section>
<section id="id9">
<h2><strong>Kesimpulan</strong><a class="headerlink" href="#id9" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p><strong>Data dari MySQL dan PostgreSQL digabungkan</strong> berdasarkan <strong>â€œidâ€ dan â€œclassâ€</strong>.</p></li>
<li><p><strong>Fitur numerik</strong> dipilih untuk dianalisis menggunakan <strong>LOF</strong>.</p></li>
<li><p><strong>LOF dijalankan dengan 90 tetangga terdekat</strong> untuk mendeteksi outlier.</p></li>
<li><p><strong>Label hasil</strong>:</p>
<ul class="simple">
<li><p><strong>1</strong> â†’ Titik normal.</p></li>
<li><p><strong>-1</strong> â†’ Titik outlier.</p></li>
</ul>
</li>
<li><p><strong>Jumlah dan detail outlier ditampilkan</strong> untuk analisis lebih lanjut.</p></li>
</ol>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="Knn.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Deteksi Outlier dengan K-Nearest Neighbors (KNN) dalam Data Understanding</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#berikut-ini-contoh-menghitung-manual-lof">BERIKUT INI CONTOH MENGHITUNG MANUAL LOF</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dataset-baru-sesuai-kode"><strong>Dataset Baru (Sesuai Kode)</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-1-tentukan-k-tetangga-terdekat-k-2"><strong>Langkah 1: Tentukan k-Tetangga Terdekat (k = 2)</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-3-hitung-reachability-distance"><strong>Langkah 3: Hitung Reachability Distance</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-4-hitung-local-reachability-density-lrd"><strong>Langkah 4: Hitung Local Reachability Density (LRD)</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-5-hitung-lof"><strong>Langkah 5: Hitung LOF</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#kesimpulan"><strong>Kesimpulan</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#penjelasan-singkat"><strong>Penjelasan Singkat</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-langkah-kode"><strong>Langkah-Langkah Kode</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#impor-library-yang-dibutuhkan"><strong>1. Impor Library yang Dibutuhkan</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#membuat-dataset"><strong>2. Membuat Dataset</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#inisialisasi-model-lof"><strong>3. Inisialisasi Model LOF</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menerapkan-model-lof"><strong>4. Menerapkan Model LOF</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menambahkan-hasil-lof-ke-dataframe"><strong>5. Menambahkan Hasil LOF ke DataFrame</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menampilkan-hasil"><strong>6. Menampilkan Hasil</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menampilkan-jumlah-outlier"><strong>7. Menampilkan Jumlah Outlier</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menampilkan-data-outlier"><strong>8. Menampilkan Data Outlier</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bagaimana-lof-menentukan-outlier"><strong>Bagaimana LOF Menentukan Outlier?</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1"><strong>Kesimpulan</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2"><strong>Penjelasan Singkat</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id3"><strong>Langkah-Langkah Kode</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4"><strong>1. Impor Library yang Dibutuhkan</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menggabungkan-data-dari-mysql-dan-postgresql"><strong>2. Menggabungkan Data dari MySQL dan PostgreSQL</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mengambil-fitur-numerik"><strong>3. Mengambil Fitur Numerik</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#inisialisasi-dan-menjalankan-lof"><strong>4. Inisialisasi dan Menjalankan LOF</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5"><strong>5. Menambahkan Hasil LOF ke DataFrame</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menampilkan-hasil-akhir"><strong>6. Menampilkan Hasil Akhir</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6"><strong>7. Menampilkan Jumlah Outlier</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7"><strong>8. Menampilkan Data Outlier</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id8"><strong>Bagaimana LOF Menentukan Outlier?</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id9"><strong>Kesimpulan</strong></a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By aura ibraliraiza
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      Â© Copyright 2025.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>